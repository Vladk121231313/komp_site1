{% extends "base.html" %}
{% load static %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è | –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫{% endblock title %}

{% block content %}

{# 1. HERO –ë–ê–ù–ù–ï–† #}
<div class="bg-light rounded-3 mb-5 py-5 px-4 text-center shadow-sm">
    <div class="container-fluid py-3">
        <h1 class="display-5 fw-bold">–¢–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä –º–µ—á—Ç—ã –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–¥–µ—Å—å</h1>
        <p class="fs-4 col-md-8 mx-auto text-muted mt-3">
            –û–≥—Ä–æ–º–Ω—ã–π –≤—ã–±–æ—Ä –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏—Ö, —á–µ—Å—Ç–Ω—ã–µ —Ü–µ–Ω—ã –∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è. 
            –°–æ–±–µ—Ä–∏ —Å–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –ü–ö —Å –Ω–∞–º–∏.
        </p>
        <div class="d-flex justify-content-center gap-3 mt-4">
            <a href="{% url 'catalog:catalog_list' %}" class="btn btn-primary btn-lg px-4">
                –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥
            </a>
            {% if not user.is_authenticated %}
                <a href="{% url 'users:register' %}" class="btn btn-outline-secondary btn-lg px-4">
                    –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                </a>
            {% endif %}
        </div>
    </div>
</div>

<div class="container">

    {# 2. –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê (–ò–∫–æ–Ω–∫–∏) #}
    <div class="row text-center mb-5 g-4">
        <div class="col-md-4">
            <div class="mb-3">
                <i class="bi bi-shield-check text-success" style="font-size: 3rem;"></i>
            </div>
            <h5>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è</h5>
            <p class="text-muted small">–¢–æ–ª—å–∫–æ —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π.</p>
        </div>
        <div class="col-md-4">
            <div class="mb-3">
                <i class="bi bi-truck text-primary" style="font-size: 3rem;"></i>
            </div>
            <h5>–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h5>
            <p class="text-muted small">–û—Ç–ø—Ä–∞–≤–∏–º –≤–∞—à –∑–∞–∫–∞–∑ –≤ –¥–µ–Ω—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.</p>
        </div>
        <div class="col-md-4">
            <div class="mb-3">
                <i class="bi bi-headset text-warning" style="font-size: 3rem;"></i>
            </div>
            <h5>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</h5>
            <p class="text-muted small">–ü–æ–º–æ–∂–µ–º —Å –≤—ã–±–æ—Ä–æ–º –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏—Ö.</p>
        </div>
    </div>

    {# 3. –ö–ê–¢–ï–ì–û–†–ò–ò (–ó–∞–¥–µ–ª –Ω–∞ –±—É–¥—É—â–µ–µ) #}
    {# –ó–¥–µ—Å—å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ?category=... –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –≤ views #}
    <h2 class="mb-4 text-center">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
        <div class="col">
            <a href="{% url 'catalog:catalog_list' %}?category=gpu" class="card h-100 text-decoration-none text-dark hover-shadow transition">
                <div class="card-body text-center py-5 bg-white rounded border">
                    <i class="bi bi-gpu-card mb-3 d-block display-4 text-primary"></i>
                    <h4 class="card-title">–í–∏–¥–µ–æ–∫–∞—Ä—Ç—ã</h4>
                </div>
            </a>
        </div>
        <div class="col">
            <a href="{% url 'catalog:catalog_list' %}?category=cpu" class="card h-100 text-decoration-none text-dark hover-shadow transition">
                <div class="card-body text-center py-5 bg-white rounded border">
                    <i class="bi bi-cpu mb-3 d-block display-4 text-primary"></i>
                    <h4 class="card-title">–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã</h4>
                </div>
            </a>
        </div>
        <div class="col">
            <a href="{% url 'catalog:catalog_list' %}?category=storage" class="card h-100 text-decoration-none text-dark hover-shadow transition">
                <div class="card-body text-center py-5 bg-white rounded border">
                    <i class="bi bi-hdd mb-3 d-block display-4 text-primary"></i>
                    <h4 class="card-title">–ù–∞–∫–æ–ø–∏—Ç–µ–ª–∏</h4>
                </div>
            </a>
        </div>
    </div>

    {# 4. –ù–û–í–ò–ù–ö–ò (–¢–æ–≤–∞—Ä—ã –∏–∑ –±–∞–∑—ã) #}
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>üî• –ù–æ–≤—ã–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</h2>
        <a href="{% url 'catalog:catalog_list' %}" class="text-decoration-none">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ &rarr;</a>
    </div>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mb-5">
        {% for product in latest_products %}
        <div class="col">
            <div class="card h-100 shadow-sm border-0">
                <a href="{% url 'catalog:product_detail' category_slug=product.category.slug product_slug=product.slug %}" class="text-decoration-none text-dark">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" class="card-img-top p-3" alt="{{ product.name }}" style="height: 200px; object-fit: contain;">
                    {% else %}
                        <div class="bg-light d-flex align-items-center justify-content-center" style="height: 200px;">
                            <span class="text-muted">–ù–µ—Ç —Ñ–æ—Ç–æ</span>
                        </div>
                    {% endif %}
                </a>
                
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title text-truncate">{{ product.name }}</h5>
                    <p class="card-text text-muted small mb-3">
                        {{ product.description|truncatewords:10 }}
                    </p>
                    <div class="mt-auto d-flex justify-content-between align-items-center">
                        <span class="fw-bold fs-5">{{ product.price|floatformat:0 }} ‚ÇΩ</span>
                        <a href="{% url 'catalog:product_detail' category_slug=product.category.slug product_slug=product.slug %}" class="btn btn-sm btn-outline-primary">
                            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
            <div class="col-12 text-center py-5">
                <p class="text-muted">–¢–æ–≤–∞—Ä–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç.</p>
            </div>
        {% endfor %}
    </div>

</div>

{# –ù–µ–±–æ–ª—å—à–æ–π —Å—Ç–∏–ª—å –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –Ω–∞–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π #}
<style>
    .hover-shadow:hover {
        box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)!important;
        transform: translateY(-2px);
        transition: all 0.3s ease;
    }
</style>

{% endblock content %}